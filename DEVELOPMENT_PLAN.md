# CodeWise 两周开发计划

## 📅 项目进度概览

**当前状态**: 第1天 - 环境搭建与基础架构 ✅ 完成

### 已完成任务 ✅

#### 环境搭建
- [x] 创建并配置 `codewise` conda虚拟环境
- [x] 安装Python 3.13.5和相关依赖
- [x] 解决pydantic-core兼容性问题
- [x] 下载并安装BAAI/bge-m3嵌入模型
- [x] 安装ChromaDB向量数据库
- [x] 验证ChromaDB基本功能

#### 项目结构
- [x] 创建 `db/` 目录并配置ChromaDB
- [x] 创建 `models/` 目录存储本地模型
- [x] 创建项目文档和说明

## 📋 详细开发计划

### 第一周：后端服务开发

#### 第1-2天：环境搭建与基础架构 ✅ 完成
**目标**：建立完整的开发环境和项目基础架构

**已完成任务**：
- ✅ 创建并配置 `codewise` conda虚拟环境
- ✅ 安装Python 3.13.5和相关依赖
- ✅ 解决pydantic-core兼容性问题
- ✅ 下载BAAI/bge-m3嵌入模型到 `models/` 目录
- ✅ 安装ChromaDB向量数据库
- ✅ 验证ChromaDB基本功能
- ✅ 创建项目文档

#### 第3-4天：RAG服务开发 🔄 进行中
**目标**：实现基础的RAG检索功能

**任务清单**：
- [ ] 创建 `rag/` 目录结构
- [ ] 实现代码解析结果的数据加载模块
- [ ] 集成ChromaDB向量数据库
- [ ] 实现BAAI/bge-m3嵌入模型调用
- [ ] 创建向量化处理管道
- [ ] 实现基础的语义搜索API
- [ ] 添加代码片段检索功能
- [ ] 实现跨文件上下文聚合

#### 第5-7天：LangGraph Agent开发
**目标**：实现智能代码分析Agent

**任务清单**：
- [ ] 创建 `agent/` 目录结构
- [ ] 设计Agent状态管理结构
- [ ] 实现Retrieve节点（向量检索）
- [ ] 实现Analyze节点（文件分析）
- [ ] 实现Router节点（智能路由）
- [ ] 实现Generate节点（答案生成）
- [ ] 集成Ollama deepseek-coder-v2模型 ✅
- [ ] 实现调用链追踪逻辑
- [ ] 添加循环控制和深度限制

### 第二周：前端开发与集成

#### 第8-9天：前端环境搭建
**目标**：建立React前端开发环境

**任务清单**：
- [ ] 创建 `frontend/` 目录
- [ ] 初始化React 18 + Vite + TypeScript项目
- [ ] 集成Ant Design React组件库
- [ ] 配置开发环境（Node.js 20.19.3）
- [ ] 设置TypeScript配置
- [ ] 创建基础项目结构

#### 第10-11天：核心UI组件开发
**目标**：实现主要的用户界面组件

**任务清单**：
- [ ] 创建代码搜索界面组件
- [ ] 实现代码问答聊天界面
- [ ] 开发代码文件树展示组件
- [ ] 创建依赖关系图谱可视化组件
- [ ] 实现代码高亮显示组件
- [ ] 添加响应式布局设计

#### 第12-13天：API集成与功能实现
**目标**：连接前后端，实现完整功能

**任务清单**：
- [ ] 集成RAG服务API
- [ ] 集成LangGraph Agent API
- [ ] 实现实时搜索功能
- [ ] 添加代码问答交互
- [ ] 实现文件上传和解析
- [ ] 添加错误处理和加载状态
- [ ] 实现用户会话管理

#### 第14天：测试与优化
**目标**：完善功能，进行测试和优化

**任务清单**：
- [ ] 端到端功能测试
- [ ] 性能优化（向量搜索、模型推理）
- [ ] 用户体验优化
- [ ] 错误处理完善
- [ ] 文档编写
- [ ] 部署准备

## 🎯 关键里程碑

### 第一周结束目标
- ✅ 完整的RAG检索服务
- ✅ 基于LangGraph的智能Agent
- ✅ 本地模型集成完成
- ✅ 向量数据库正常运行

### 第二周结束目标
- ✅ 功能完整的React前端
- ✅ 前后端完全集成
- ✅ 端到端测试通过
- ✅ 项目可部署运行

## 🛠️ 技术栈状态

### 已安装和配置 ✅
- **Python环境**: conda环境 `codewise` + Python 3.13.5
- **向量数据库**: ChromaDB 1.0.16
- **嵌入模型**: BAAI/bge-m3 (已下载到 `models/` 目录)
- **依赖管理**: pydantic, numpy, pandas等核心依赖

### 待安装 🔄
- **RAG框架**: LlamaIndex
- **Agent框架**: LangGraph
- **前端框架**: React 18 + Vite + TypeScript
- **UI组件库**: Ant Design React

### 已配置 ✅
- **大语言模型**: deepseek-coder-v2 (通过Ollama本地部署)
- **Ollama服务**: 已启动并验证API访问正常

## 📝 每日检查清单

**每日开始前**：
- [x] 激活conda环境：`conda activate codewise`
- [x] 检查相关服务状态
- [x] 回顾前一天完成的功能

**每日结束时**：
- [x] 提交代码到Git
- [x] 更新开发进度文档
- [x] 测试当天开发的功能
- [x] 规划第二天任务

## 🚀 下一步行动

**立即开始**：
1. 创建RAG服务的基础结构
2. 实现代码解析结果的数据加载
3. 集成嵌入模型和向量化处理
4. 开始LangGraph Agent设计

---

*最后更新: 2024年8月13日*
*当前进度: 第1天完成，准备开始第2天任务*
